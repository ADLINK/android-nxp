From cfa07987b7a0addd1f6f03d3010d82e4c9514e68 Mon Sep 17 00:00:00 2001
From: Arun Kumar <arunkumar.ev@ltts.com>
Date: Tue, 18 Feb 2020 16:38:00 +0530
Subject: [PATCH 13/13] IMX8M: Add support for TI ADS1115

Adding device tree configuration for TI ADS1115.

Signed-off-by: Arun Kumar <arunkumar.ev@ltts.com>
---
 arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts | 47 +++++++++++++++++++++++++
 arch/arm64/configs/android_defconfig            |  1 +
 2 files changed, 48 insertions(+)

diff --git a/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts b/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts
index 425966e6..3627e39 100644
--- a/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts
+++ b/arch/arm64/boot/dts/adlink/adlink-lec-imx8m.dts
@@ -640,6 +640,53 @@
 		sx150x,reset_onprobe;
 		label = "ioexp-gpio";
 	};
+
+	ads1115@48 {
+		compatible = "ti,ads1115";
+		reg = <0x48>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+		channel@0 {
+			reg = <0>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@1 {
+			reg = <1>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@2 {
+			reg = <2>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@3 {
+			reg = <3>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@4 {
+			reg = <4>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@5 {
+			reg = <5>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@6 {
+			reg = <6>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+		channel@7 {
+			reg = <7>;
+			ti,gain = <0>;
+			ti,datarate = <6>;
+		};
+	};
 };
 
 &pcie0{
diff --git a/arch/arm64/configs/android_defconfig b/arch/arm64/configs/android_defconfig
index c0368153..02cd060 100644
--- a/arch/arm64/configs/android_defconfig
+++ b/arch/arm64/configs/android_defconfig
@@ -1013,3 +1013,4 @@ CONFIG_CRYPTO_AES_ARM64_BS=m
 CONFIG_GPIO_PCAL6416A=y
 CONFIG_GPIO_SX150X=y
 CONFIG_DP83867_PHY=y
+CONFIG_TI_ADS1015=y
-- 
2.7.4

